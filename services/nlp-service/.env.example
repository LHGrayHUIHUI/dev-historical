# NLP服务环境变量配置示例
# 无状态NLP文本处理微服务配置
# 复制此文件为.env并根据实际环境修改配置值

# 基础服务配置
NLP_SERVICE_NAME=nlp-service
NLP_SERVICE_VERSION=1.0.0
NLP_SERVICE_ENVIRONMENT=development  # development, testing, staging, production
NLP_SERVICE_DEBUG=true
NLP_SERVICE_API_HOST=0.0.0.0
NLP_SERVICE_API_PORT=8004
NLP_SERVICE_API_PREFIX=/api/v1
NLP_SERVICE_WORKERS=1

# Storage Service配置（统一数据管理）
NLP_SERVICE_STORAGE_SERVICE_URL=http://localhost:8002
NLP_SERVICE_STORAGE_SERVICE_TIMEOUT=60
NLP_SERVICE_STORAGE_SERVICE_RETRIES=3

# File Processor配置（可选，如果需要调用其他文件处理功能）
NLP_SERVICE_FILE_PROCESSOR_URL=http://localhost:8001

# OCR Service配置（可选，如果需要调用OCR功能）
NLP_SERVICE_OCR_SERVICE_URL=http://localhost:8003

# NLP引擎配置
NLP_SERVICE_DEFAULT_NLP_ENGINE=spacy
NLP_SERVICE_DEFAULT_LANGUAGE=zh
NLP_SERVICE_SUPPORTED_LANGUAGES=zh,en,zh-classical
NLP_SERVICE_MAX_TEXT_LENGTH=1000000  # 1MB
NLP_SERVICE_MAX_BATCH_SIZE=50
NLP_SERVICE_NLP_TASK_TIMEOUT=300
NLP_SERVICE_MAX_CONCURRENT_TASKS=4

# NLP功能开关
NLP_SERVICE_ENABLE_SEGMENTATION=true
NLP_SERVICE_ENABLE_POS_TAGGING=true
NLP_SERVICE_ENABLE_NER=true
NLP_SERVICE_ENABLE_SENTIMENT_ANALYSIS=true
NLP_SERVICE_ENABLE_KEYWORD_EXTRACTION=true
NLP_SERVICE_ENABLE_TEXT_SUMMARIZATION=true
NLP_SERVICE_ENABLE_TEXT_SIMILARITY=true

# 模型配置
NLP_SERVICE_SPACY_MODEL=zh_core_web_sm
NLP_SERVICE_HANLP_TOKENIZER_MODEL=FINE_ELECTRA_SMALL_ZH
NLP_SERVICE_HANLP_NER_MODEL=MSRA_NER_ELECTRA_SMALL_ZH
NLP_SERVICE_SENTIMENT_MODEL=uer/roberta-base-finetuned-chinanews-chinese
NLP_SERVICE_SENTENCE_MODEL=shibing624/text2vec-base-chinese

# 分词配置
NLP_SERVICE_JIEBA_DICT_PATH=
NLP_SERVICE_JIEBA_ENABLE_PARALLEL=true
NLP_SERVICE_JIEBA_PARALLEL_WORKERS=4

# 关键词提取配置
NLP_SERVICE_KEYWORD_EXTRACTION_METHODS=tfidf,textrank,yake
NLP_SERVICE_DEFAULT_KEYWORD_METHOD=textrank
NLP_SERVICE_MAX_KEYWORDS_COUNT=50

# 摘要生成配置
NLP_SERVICE_SUMMARY_METHODS=extractive,abstractive
NLP_SERVICE_DEFAULT_SUMMARY_METHOD=extractive
NLP_SERVICE_MAX_SUMMARY_SENTENCES=5
NLP_SERVICE_SUMMARY_COMPRESSION_RATIO=0.3

# 临时文件配置
NLP_SERVICE_TEMP_DIR=/tmp/nlp-service
NLP_SERVICE_TEMP_FILE_CLEANUP_INTERVAL=3600
NLP_SERVICE_TEMP_FILE_MAX_AGE=7200

# 缓存配置（本地缓存）
NLP_SERVICE_ENABLE_CACHE=true
NLP_SERVICE_CACHE_MAX_SIZE=1000
NLP_SERVICE_CACHE_TTL=3600

# 日志配置
NLP_SERVICE_LOG_LEVEL=INFO
NLP_SERVICE_LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
NLP_SERVICE_LOG_FILE=
NLP_SERVICE_LOG_MAX_SIZE=10485760  # 10MB
NLP_SERVICE_LOG_BACKUP_COUNT=5
NLP_SERVICE_ENABLE_JSON_LOGS=false
NLP_SERVICE_LOG_REQUEST_ID=true

# 开发环境特定配置
# 生产环境请设置为false
NLP_SERVICE_DEBUG_SHOW_ERROR_DETAILS=true
NLP_SERVICE_DEBUG_RELOAD_ON_CHANGE=true

# GPU配置
NLP_SERVICE_USE_GPU=false
NLP_SERVICE_GPU_DEVICE=0

# 模型路径配置
NLP_SERVICE_MODELS_DIR=./models
NLP_SERVICE_CUSTOM_DICT_DIR=./dictionaries