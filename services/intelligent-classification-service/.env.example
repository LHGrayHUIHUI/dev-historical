# 智能分类服务环境变量配置示例
# 复制此文件为.env并根据实际环境修改配置

# ============ 基础服务配置 ============
SERVICE_NAME=intelligent-classification-service
SERVICE_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true

# ============ API配置 ============
API_HOST=0.0.0.0
API_PORT=8007
API_PREFIX=/api/v1
WORKERS=1

# ============ Storage Service配置 ============
STORAGE_SERVICE_URL=http://localhost:8002
STORAGE_SERVICE_TIMEOUT=180
STORAGE_SERVICE_RETRIES=3

# ============ 其他服务配置 ============
NLP_SERVICE_URL=http://localhost:8004
KNOWLEDGE_GRAPH_SERVICE_URL=http://localhost:8006

# ============ 智能分类配置 ============
MAX_TEXT_LENGTH=10000
MAX_BATCH_SIZE=100
CLASSIFICATION_TIMEOUT=300
MAX_CONCURRENT_TASKS=5

# ============ 文件处理配置 ============
TEMP_DIR=/tmp/intelligent-classification
MODEL_DIR=/tmp/models
CACHE_DIR=/tmp/cache
MAX_MODEL_SIZE=524288000

# ============ 缓存配置 ============
ENABLE_CACHE=true
CACHE_MAX_SIZE=1000
CACHE_TTL=3600

# ============ 日志配置 ============
LOG_LEVEL=INFO
LOG_FORMAT={time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} | {message}
LOG_FILE=logs/intelligent_classification_service.log

# ============ CORS配置 ============
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:5173,http://127.0.0.1:3000

# ============ API限流配置 ============
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============ 健康检查配置 ============
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ============ MLflow配置 ============
MLFLOW_TRACKING_URI=sqlite:///mlflow.db
MLFLOW_EXPERIMENT_NAME=intelligent-classification
MLFLOW_ENABLED=true

# ============ 模型版本管理 ============
MAX_MODEL_VERSIONS=10
AUTO_ARCHIVE_OLD_MODELS=true
MODEL_RETENTION_DAYS=30

# ============ 性能监控配置 ============
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_LOG_INTERVAL=300

# ============ 批量处理配置 ============
BATCH_PROCESSING_ENABLED=true
MAX_BATCH_CONCURRENT=3
BATCH_CHUNK_SIZE=50

# ============ 特定算法配置 ============
# TF-IDF配置
TFIDF_MAX_FEATURES=10000
TFIDF_NGRAM_RANGE_MIN=1
TFIDF_NGRAM_RANGE_MAX=2
TFIDF_MIN_DF=2
TFIDF_MAX_DF=0.95

# Word2Vec配置
WORD2VEC_VECTOR_SIZE=300
WORD2VEC_WINDOW=5
WORD2VEC_MIN_COUNT=1
WORD2VEC_WORKERS=4

# BERT配置
BERT_MAX_LENGTH=512
BERT_BATCH_SIZE=16
BERT_LEARNING_RATE=2e-5
BERT_NUM_EPOCHS=3

# ============ 训练配置 ============
TRAINING_TEST_SIZE=0.2
TRAINING_VALIDATION_SIZE=0.1
TRAINING_CV_FOLDS=5
TRAINING_RANDOM_STATE=42
TRAINING_MIN_SAMPLES_PER_CLASS=5
TRAINING_MAX_TIME=1800

# ============ 性能阈值 ============
MIN_ACCURACY=0.7
MIN_PRECISION=0.7
MIN_RECALL=0.7
MIN_F1=0.7
CONFIDENCE_THRESHOLD=0.6