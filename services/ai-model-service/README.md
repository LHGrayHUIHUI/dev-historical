# AIæ¨¡å‹æœåŠ¡ (AI Model Service)

ç»Ÿä¸€çš„AIæ¨¡å‹è°ƒç”¨å’Œç®¡ç†æœåŠ¡ï¼Œæä¾›å¤šå¹³å°AIæ¨¡å‹çš„æ™ºèƒ½è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€è´¦å·æ± ç®¡ç†å’Œä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **å¤šå¹³å°æ”¯æŒ**: æ”¯æŒOpenAIã€Claudeã€ç™¾åº¦æ–‡å¿ƒä¸€è¨€ã€é˜¿é‡Œäº‘é€šä¹‰åƒé—®ã€è…¾è®¯æ··å…ƒã€æ™ºè°±AIç­‰ä¸»æµå¹³å°
- **æ™ºèƒ½è·¯ç”±**: åŸºäºå¥åº·çŠ¶æ€ã€æˆæœ¬ã€æ€§èƒ½ç­‰æŒ‡æ ‡æ™ºèƒ½é€‰æ‹©æœ€ä½³æ¨¡å‹å’Œè´¦å·
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒè½®è¯¢ã€æƒé‡ã€å¥åº·è¯„åˆ†ç­‰å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥  
- **è´¦å·æ± ç®¡ç†**: å¤šè´¦å·è½®æ¢ã€å¥åº·ç›‘æ§ã€é…é¢ç®¡ç†
- **æµå¼æ”¯æŒ**: å®Œæ•´æ”¯æŒæµå¼å¯¹è¯æ¥å£
- **ç›‘æ§å‘Šè­¦**: å®æ—¶ç›‘æ§è´¦å·çŠ¶æ€ã€APIå¯ç”¨æ€§å’Œæ€§èƒ½æŒ‡æ ‡

### é«˜çº§åŠŸèƒ½
- **ä½¿ç”¨ç»Ÿè®¡**: è¯¦ç»†çš„è°ƒç”¨ç»Ÿè®¡ã€æˆæœ¬åˆ†æå’Œæ€§èƒ½æŒ‡æ ‡
- **æ•…éšœè½¬ç§»**: è‡ªåŠ¨æ£€æµ‹æ•…éšœè´¦å·å¹¶åˆ‡æ¢åˆ°å¤‡ç”¨è´¦å·
- **ç¼“å­˜ä¼˜åŒ–**: Redisç¼“å­˜æå‡è·¯ç”±å†³ç­–æ€§èƒ½
- **é…é¢ç®¡ç†**: æ™ºèƒ½é…é¢åˆ†é…å’Œä½¿ç”¨é¢„è­¦
- **å®‰å…¨åŠ å¯†**: APIå¯†é’¥åŠ å¯†å­˜å‚¨ï¼Œå®‰å…¨ç®¡ç†å‡­è¯

## ğŸ“‹ æŠ€æœ¯æ¶æ„

### æœåŠ¡æ¶æ„
```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   FastAPI App   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚Chat API    â”‚  â”‚Models API   â”‚ â”‚Status API   â”‚
    â”‚Controller  â”‚  â”‚Controller   â”‚ â”‚Controller   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚               â”‚               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  AI Service    â”‚
                    â”‚  (æ ¸å¿ƒä¸šåŠ¡å±‚)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Model Router    â”‚ â”‚Account Monitorâ”‚ â”‚Usage Tracker    â”‚
â”‚(æ™ºèƒ½è·¯ç”±)       â”‚ â”‚(å¥åº·ç›‘æ§)      â”‚ â”‚(ä½¿ç”¨ç»Ÿè®¡)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Adapter Factory                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ OpenAI   â”‚ â”‚  Claude  â”‚ â”‚  Baidu   â”‚ â”‚ Alibaba/Tencent  â”‚ â”‚
â”‚  â”‚ Adapter  â”‚ â”‚ Adapter  â”‚ â”‚ Adapter  â”‚ â”‚ /Zhipu Adapters  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘
```
è¯·æ±‚ â†’ è·¯ç”±é€‰æ‹© â†’ é€‚é…å™¨è°ƒç”¨ â†’ å¹³å°API â†’ å“åº”å¤„ç† â†’ ç»Ÿè®¡è®°å½•
```

## ğŸ› ï¸ ç¯å¢ƒé…ç½®

### ç¯å¢ƒå˜é‡
```bash
# æœåŠ¡é…ç½®
SERVICE_PORT=8007
DEBUG=True
LOG_LEVEL=INFO

# å­˜å‚¨æœåŠ¡URL (é€šè¿‡storage-serviceè®¿é—®æ•°æ®åº“)
STORAGE_SERVICE_URL=http://localhost:8002

# Redisé…ç½® (å¯é€‰ï¼Œç”¨äºç¼“å­˜å’Œè´Ÿè½½å‡è¡¡)
REDIS_URL=redis://localhost:6380

# ç›‘æ§é…ç½®
HEALTH_CHECK_INTERVAL=300
QUOTA_ALERT_THRESHOLD=0.8

# ç¼“å­˜é…ç½®
CACHE_TTL_MODELS=3600
CACHE_TTL_ACCOUNTS=1800
CACHE_PREFIX=ai_model_service:

# è·¯ç”±ç­–ç•¥
DEFAULT_ROUTING_STRATEGY=priority
```

### ä¾èµ–è¦æ±‚
- Python 3.11+
- FastAPI 0.104+
- Redis (å¯é€‰)
- Storage Service (ç«¯å£8002)

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å¼€å‘ç¯å¢ƒ
```bash
# å…‹éš†é¡¹ç›®
cd services/ai-model-service

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
python -m src.main
```

### 2. Dockerç¯å¢ƒ
```bash
# æ„å»ºé•œåƒ
docker build -t ai-model-service .

# è¿è¡Œå®¹å™¨
docker run -p 8007:8007 -e STORAGE_SERVICE_URL=http://host.docker.internal:8002 ai-model-service
```

### 3. å¾®æœåŠ¡é›†æˆ
```bash
# ä½¿ç”¨docker-composeå¯åŠ¨å®Œæ•´ç¯å¢ƒ
docker-compose -f docker-compose.dev.yml up ai-model-service
```

## ğŸ“Š APIæ–‡æ¡£

æœåŠ¡å¯åŠ¨åè®¿é—®ï¼š
- **Swaggeræ–‡æ¡£**: http://localhost:8007/docs
- **ReDocæ–‡æ¡£**: http://localhost:8007/redoc

### æ ¸å¿ƒæ¥å£

#### 1. èŠå¤©å®Œæˆ
```http
POST /api/v1/chat/completions
Content-Type: application/json

{
  "model_name": "GPT-3.5",
  "provider": "openai",
  "messages": [
    {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠ©æ‰‹"},
    {"role": "user", "content": "ä½ å¥½"}
  ],
  "parameters": {
    "temperature": 0.7,
    "max_tokens": 1000
  },
  "user_id": "user123"
}
```

#### 2. æµå¼èŠå¤©
```http
POST /api/v1/chat/completions/stream
Content-Type: application/json

{
  "model_name": "GPT-4",
  "messages": [
    {"role": "user", "content": "å†™ä¸€é¦–å…³äºAIçš„è¯—"}
  ],
  "parameters": {"temperature": 0.8}
}
```

#### 3. è·å–å¯ç”¨æ¨¡å‹
```http
GET /api/v1/models/
GET /api/v1/models/?provider=openai
GET /api/v1/models/openai/models
```

#### 4. æœåŠ¡çŠ¶æ€ç›‘æ§
```http
GET /api/v1/status/health
GET /api/v1/status/metrics  
GET /api/v1/status/usage?period=24h
GET /api/v1/status/performance
GET /api/v1/status/cost?group_by=provider
```

## ğŸ¯ æ™ºèƒ½è·¯ç”±ç­–ç•¥

### æ”¯æŒçš„è·¯ç”±ç­–ç•¥

1. **ä¼˜å…ˆçº§è·¯ç”±** (priority)
   - æŒ‰æ¨¡å‹ä¼˜å…ˆçº§é€‰æ‹©
   - é€‚åˆæœ‰æ˜ç¡®åå¥½çš„åœºæ™¯

2. **æˆæœ¬ä¼˜åŒ–è·¯ç”±** (cost_based)  
   - ä¼˜å…ˆé€‰æ‹©æˆæœ¬è¾ƒä½çš„æ¨¡å‹
   - é€‚åˆæˆæœ¬æ•æ„Ÿçš„åº”ç”¨

3. **è½®è¯¢è·¯ç”±** (round_robin)
   - å…¬å¹³åˆ†é…è¯·æ±‚åˆ°å„ä¸ªæ¨¡å‹
   - é€‚åˆè´Ÿè½½å‡è¡¡åœºæ™¯

4. **æƒé‡è·¯ç”±** (weighted)
   - æŒ‰æ¨¡å‹æƒé‡éšæœºé€‰æ‹©
   - æ”¯æŒçµæ´»çš„æµé‡åˆ†é…

5. **å¥åº·è¯„åˆ†è·¯ç”±** (health_based)
   - åŸºäºè´¦å·å¥åº·çŠ¶æ€é€‰æ‹©
   - ç¡®ä¿æœåŠ¡å¯ç”¨æ€§

### è·¯ç”±å†³ç­–å› ç´ 
- **è´¦å·å¥åº·è¯„åˆ†**: æˆåŠŸç‡ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡
- **é…é¢ä½¿ç”¨æƒ…å†µ**: å‰©ä½™é…é¢ã€ä½¿ç”¨ç‡
- **æ¨¡å‹èƒ½åŠ›åŒ¹é…**: åŠŸèƒ½éœ€æ±‚ã€æ€§èƒ½è¦æ±‚  
- **æˆæœ¬è€ƒè™‘**: æŒ‰tokenæˆæœ¬ã€é¢„ç®—é™åˆ¶

## ğŸ“ˆ ç›‘æ§å’Œç»Ÿè®¡

### å¥åº·ç›‘æ§æŒ‡æ ‡
- **æˆåŠŸç‡**: APIè°ƒç”¨æˆåŠŸç‡
- **å“åº”æ—¶é—´**: å¹³å‡å“åº”æ—¶é—´ã€P95/P99
- **é”™è¯¯ç‡**: å„ç§é”™è¯¯ç±»å‹ç»Ÿè®¡
- **é…é¢ä½¿ç”¨**: é…é¢ä½¿ç”¨ç‡ã€å‰©ä½™é…é¢

### ä½¿ç”¨ç»Ÿè®¡
- **è°ƒç”¨é‡ç»Ÿè®¡**: æŒ‰æ—¶é—´ã€æ¨¡å‹ã€ç”¨æˆ·ç»´åº¦
- **æˆæœ¬åˆ†æ**: æŒ‰æä¾›å•†ã€æ¨¡å‹çš„æˆæœ¬åˆ†å¸ƒ
- **æ€§èƒ½æŒ‡æ ‡**: ååé‡ã€å»¶è¿Ÿåˆ†å¸ƒ
- **é”™è¯¯åˆ†æ**: é”™è¯¯ç±»å‹ã€é¢‘ç‡åˆ†æ

### å‘Šè­¦æœºåˆ¶
- **é…é¢å‘Šè­¦**: é…é¢ä½¿ç”¨è¶…è¿‡é˜ˆå€¼æ—¶å‘Šè­¦
- **å¥åº·å‘Šè­¦**: è´¦å·å¥åº·è¯„åˆ†ä½äºé˜ˆå€¼æ—¶å‘Šè­¦
- **é”™è¯¯å‘Šè­¦**: é”™è¯¯ç‡è¶…è¿‡é˜ˆå€¼æ—¶å‘Šè­¦
- **å¯ç”¨æ€§å‘Šè­¦**: æœåŠ¡ä¸å¯ç”¨æ—¶å‘Šè­¦

## ğŸ”§ é…ç½®ç®¡ç†

### æ¨¡å‹é…ç½®
é€šè¿‡Storage Serviceç®¡ç†æ¨¡å‹é…ç½®:
```json
{
  "id": "gpt-3.5-turbo",
  "name": "GPT-3.5 Turbo",
  "provider": "openai", 
  "model_id": "gpt-3.5-turbo",
  "max_tokens": 4096,
  "cost_per_1k_tokens": 0.002,
  "priority": 5,
  "is_active": true,
  "capabilities": {
    "chat": true,
    "streaming": true,
    "function_calling": true
  }
}
```

### è´¦å·é…ç½®
```json
{
  "id": "openai-account-1",
  "account_name": "OpenAIä¸»è´¦å·",
  "provider": "openai",
  "api_key_encrypted": "encrypted_key_here",
  "quota_limit": 1000000,
  "quota_used": 45000,
  "status": "active",
  "health_score": 0.95
}
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit/ -v

# è¿è¡Œå¸¦è¦†ç›–ç‡çš„æµ‹è¯•
pytest --cov=src --cov-report=html --cov-report=term

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/unit/test_adapters.py::TestOpenAIAdapter::test_chat_completion_success -v
```

### æµ‹è¯•ç»“æ„
```
tests/
â”œâ”€â”€ conftest.py              # æµ‹è¯•é…ç½®å’Œå¤¹å…·
â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_adapters.py     # é€‚é…å™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_ai_service.py   # AIæœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ test_controllers.py  # æ§åˆ¶å™¨æµ‹è¯•
â”‚   â””â”€â”€ test_models.py       # æ•°æ®æ¨¡å‹æµ‹è¯•
â””â”€â”€ integration/             # é›†æˆæµ‹è¯•
    â”œâ”€â”€ test_api_endpoints.py # APIç«¯ç‚¹æµ‹è¯•
    â””â”€â”€ test_service_integration.py
```

## ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²

### æ„å»ºä¼˜åŒ–é•œåƒ
```bash
# å¤šé˜¶æ®µæ„å»ºï¼Œä¼˜åŒ–é•œåƒå¤§å°
docker build -f Dockerfile -t ai-model-service:latest .

# æŸ¥çœ‹é•œåƒå¤§å°
docker images ai-model-service:latest
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# ä½¿ç”¨ç”Ÿäº§é…ç½®å¯åŠ¨
docker-compose -f docker-compose.production.yml up ai-model-service

# æˆ–ä½¿ç”¨Kuberneteséƒ¨ç½²
kubectl apply -f k8s/ai-model-service-deployment.yaml
```

### å¥åº·æ£€æŸ¥
å®¹å™¨å†…ç½®å¥åº·æ£€æŸ¥ï¼š
```dockerfile
HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:8007/api/v1/status/health || exit 1
```

## ğŸ”’ å®‰å…¨è€ƒè™‘

### APIå¯†é’¥å®‰å…¨
- **åŠ å¯†å­˜å‚¨**: æ‰€æœ‰APIå¯†é’¥åŠ å¯†åå­˜å‚¨åœ¨æ•°æ®åº“ä¸­
- **æƒé™éš”ç¦»**: æ¯ä¸ªè´¦å·ä½¿ç”¨ç‹¬ç«‹çš„APIå¯†é’¥
- **å®šæœŸè½®æ¢**: æ”¯æŒAPIå¯†é’¥çš„å®šæœŸæ›´æ–°

### è®¿é—®æ§åˆ¶  
- **è®¤è¯æˆæƒ**: æ”¯æŒJWTä»¤ç‰Œè®¤è¯
- **è¯·æ±‚é™åˆ¶**: æ”¯æŒæŒ‰ç”¨æˆ·/IPçš„è¯·æ±‚é¢‘ç‡é™åˆ¶
- **æ•æ„Ÿä¿¡æ¯**: é”™è¯¯ä¿¡æ¯ä¸­è‡ªåŠ¨è¿‡æ»¤æ•æ„Ÿæ•°æ®

### ç½‘ç»œå®‰å…¨
- **HTTPSæ”¯æŒ**: ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶HTTPS
- **CORSé…ç½®**: åˆç†çš„è·¨åŸŸèµ„æºå…±äº«é…ç½®
- **é˜²ç«å¢™**: åªæš´éœ²å¿…è¦çš„æœåŠ¡ç«¯å£

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„AIå¹³å°é€‚é…å™¨

1. **åˆ›å»ºé€‚é…å™¨ç±»**
```python
# src/adapters/new_platform_adapter.py
from .base_adapter import BaseAdapter

class NewPlatformAdapter(BaseAdapter):
    async def chat_completion(self, model_config, account_config, messages, **kwargs):
        # å®ç°èŠå¤©å®Œæˆé€»è¾‘
        pass
    
    async def chat_completion_stream(self, model_config, account_config, messages, **kwargs):
        # å®ç°æµå¼èŠå¤©é€»è¾‘  
        pass
```

2. **æ³¨å†Œé€‚é…å™¨**
```python
# src/adapters/adapter_factory.py
from .new_platform_adapter import NewPlatformAdapter

self._adapter_classes[ModelProvider.NEW_PLATFORM] = NewPlatformAdapter
```

3. **æ·»åŠ æµ‹è¯•**
```python
# tests/unit/test_adapters.py
class TestNewPlatformAdapter:
    # æ·»åŠ é€‚é…å™¨æµ‹è¯•ç”¨ä¾‹
    pass
```

### æ‰©å±•è·¯ç”±ç­–ç•¥

1. **åœ¨model_router.pyä¸­æ·»åŠ æ–°ç­–ç•¥**
```python
elif strategy_type == 'new_strategy':
    selected = await self._new_strategy_select(models)
    return selected, 'new_strategy'
```

2. **å®ç°ç­–ç•¥é€»è¾‘**
```python
async def _new_strategy_select(self, models):
    # å®ç°æ–°çš„é€‰æ‹©é€»è¾‘
    return selected_model
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®å¹¶åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. ç¼–å†™ä»£ç å¹¶æ·»åŠ æµ‹è¯•ç”¨ä¾‹
3. ç¡®ä¿æµ‹è¯•é€šè¿‡: `pytest`
4. æ£€æŸ¥ä»£ç é£æ ¼: `black src/ && isort src/ && flake8 src/`
5. æäº¤PRå¹¶æè¿°å˜æ›´å†…å®¹

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡å¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤Storage Serviceæ˜¯å¦å¯è®¿é—®
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶äº†è§£è¯¦ç»†é”™è¯¯

2. **APIè°ƒç”¨å¤±è´¥**
   - éªŒè¯AIå¹³å°APIå¯†é’¥æ˜¯å¦æ­£ç¡®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
   - æŸ¥çœ‹è´¦å·é…é¢æ˜¯å¦å……è¶³

3. **æ€§èƒ½é—®é¢˜**
   - å¯ç”¨Redisç¼“å­˜åŠ é€Ÿè·¯ç”±å†³ç­–
   - è°ƒæ•´å¥åº·æ£€æŸ¥é—´éš”
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½

4. **å†…å­˜ä½¿ç”¨è¿‡é«˜**
   - æ£€æŸ¥æ‰¹é‡ç»Ÿè®¡è®°å½•æ˜¯å¦æ­£å¸¸åˆ·æ–°
   - è°ƒæ•´ç¼“å­˜TTLæ—¶é—´
   - ç›‘æ§é€‚é…å™¨è¿æ¥æ± 

### è°ƒè¯•æŠ€å·§
- å¯ç”¨DEBUGæ¨¡å¼æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
- ä½¿ç”¨ `/debug/config` ç«¯ç‚¹æŸ¥çœ‹é…ç½®
- é€šè¿‡ `/api/v1/status/metrics` ç›‘æ§å…³é”®æŒ‡æ ‡

---

**è”ç³»æ–¹å¼**: å¦‚æœ‰é—®é¢˜è¯·åœ¨GitHub Issuesä¸­æå‡ºæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚